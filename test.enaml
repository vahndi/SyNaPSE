from atom.api import Atom, ContainerList
from enaml.widgets.api import Container, RadioButton, MainWindow, Notebook, Page
from enaml.core.api import Include
from numpy.random import randint


def get_constraints(objects, buttons):
    
    constraints = []
    
    for obj, button in zip(objects, buttons):
        constraints.extend([obj.left == button.x,
                            obj.top == button.y])
        
    return constraints



enamldef Main(MainWindow):
    
    attr model = ui_model()
    
    Container: 
            constraints << get_constraints(inc.objects, model.buttons)
            Include: inc:
                objects = [RadioButton(text = b.name) 
                           for b in model.buttons]


class element(object):

    def __init__(self):
        
        self.name = chr(65 + randint(0, 25))
        self.x = randint(0, 100)
        self.y = randint(0, 100)


def get_elements():

    elements = []    
    for _ in range(10):
        elements.append(element())
    return elements
    

class ui_model(Atom):
    
    buttons = ContainerList(element, get_elements())


    
    